 # 나머지 합
Created at : 2025-12-01 22:33
[baekjoon_10986](https://www.acmicpc.net/problem/10986)
### 조건
- 시간 : 1
- 메모리 : 256
### 문제
수 N개 A1, A2, ..., AN이 주어진다. 이때, 연속된 부분 구간의 합이 M으로 나누어 떨어지는 구간의 개수를 구하는 프로그램을 작성하시오.

즉, Ai + ... + Aj (i ≤ j) 의 합이 M으로 나누어 떨어지는 (i, j) 쌍의 개수를 구해야 한다.
### 입력
첫째 줄에 N과 M이 주어진다. (1 ≤ N ≤ 106, 2 ≤ M ≤ 103)

둘째 줄에 N개의 수 A1, A2, ..., AN이 주어진다. (0 ≤ Ai ≤ 109)
### 출력
첫째 줄에 연속된 부분 구간의 합이 M으로 나누어 떨어지는 구간의 개수를 출력한다.
### 제한
- 
### 예제
- 입력
```
5 3
1 2 3 1 2
```
- 출력
```
7
``` 

### 풀이
- My solution
```python
N,M  = map(int,input().split())
arr = list(map(int,input().split()))
ret = [0]*(N+1)

ret[1] = arr[0]
for i in range(2, N+1):
    ret[i] = arr[i-1]+ret[i-1]

# print(ret)
cnt = 0
for i in range(N):
    for j in range(i+1,N+1):
        if (ret[j]-ret[i])%M == 0:
            cnt+=1
print(cnt)
```
- My solution2
```python
N,M  = map(int,input().split())
arr = list(map(int,input().split()))
ret = [0]*N
combi = [0]*M
for i in range(N):
    if i == 0:
        ret[i] = arr[0]%M
    else:
        ret[i] = (arr[i]+ret[i-1])%M
    combi[ret[i]] += 1

cnt = combi[0]
for m in range(M):
    if combi[m] != 0:
        cnt += (combi[m]*(combi[m]-1))//2

print(cnt)
```
- Answer
```python

```

- Analyze
	- My Solution
		- 누적합들을 구하고 각 구간별 나누어서 나누어 떨어지는 것을 구하는 식이다. 조건이 N이 10^9 이기에 당연히 시간 초과가 나왔다.
	- My Solution2
		- 일단 누적합을 구해주었다. (ret)
		- 이후, ret에서 결과와 M을 나눈 나머지를 저장해 주었다. (combi)
		- 이제 count를 해주는데, 처음 0으로 나누어 떨어지는(combi`[0]`)는 그 자체만으로 이미 나누어 떨어지는 구간이므로 cnt에 넣어준다.
		- 이후에 각각의 결과에서 2개를 선택한다. (조합식 nC2)
		- 예제
			- arr = `[1,2,3,1,2]`
			- ret = `[1,3,6,7,9]`
			- combi = `[1,0,0,1,0]` (combi는 누적합의 나머지들이란걸 명심)
			- combi에서 idx 1,2,4은 누적합만으로 (0에서 현재 인덱스의 합산) M으로 나누어 떨어진다. (cnt += 3)
			- 이후, 0에서 2가지를 골라 빼더라도 M으로 나누어 떨어진다.
				- idx (1,4) => ret`[4]` - ret`[1]` = 9 - 3 = 6
				- 즉,  $_{3}C_{2}$ = 3
			- 또한, 1에서 2가지를 골라 빼더라도 역시 M으로 나누어 떨어진다.
				- idx (0,3) => ret`[3]` - ret`[0]` = 7 - 1 = 6
				- 즉,  $_{2}C_{2}$ = 1
			- 다 더하면 답은 7이다.
		- 좀 더 추가적으로 설명하자면, 누적합에서 동일한 결과를 가지고 있는 인덱스를 뺀다면 0이되어서 나누어 떨어진다고 이해하면 될 것 같다.
### 알고리즘 분류
- 