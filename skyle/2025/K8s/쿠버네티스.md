## 1. 쿠버네티스(Kubenetes)란?
- 쿠버네티스(Kubernetes)는 다수의 컨테이너를 효율적으로 배포, 확장 및 관리하기 위한 오픈 소스 시스템이다.
- 즉, 여러 개의 컨테이너 관리 (like. Docker Swarm)
### 쿠버네티스 장점
- 컨테이너 관리 자동화 (배포, 확장, 업데이트)
- 부하 분산 (로드 밸런싱)
- 쉬운 스케일링
- 셀프 힐링
## 2. 파드(Pod)란
- 쿠버네티스에서의 하나의 프로그램을 실행시키는 단위
![[Pasted image 20250706234331.png]]

### Pod 생성 방법
- CLI를 활용 or Yaml 파일 활용
- Yaml 파일 생성하기 (Manifest file 생성)
```yaml
apiVersion: v1 # Pod를 생성할 때는 v1이라고 기재한다. (공식 문서)
kind: Pod # Pod를 생성한다고 명시
metadata:
  name: nginx-pod # Pod에 이름 붙이는 기능
spec:
  containers:
    - name: nginx-container # 생성할 컨테이너의 이름
      image: nginx # 컨테이너를 생성할 때 사용할 Docker 이미지
      ports:
        - containerPort: 80 # 해당 컨테이너가 어떤 포트를 사용하는 지 명시적으로 표현
      imagePullPolicy: Always # IfNotPresent, Never
```

- yaml 파일 기반으로 파드(Pod) 생성하기
```
kubectl apply -f nginx-pod.yaml # yaml 파일에 적혀져있는 리소스(파드)를 생성
```
- 파드(Pod)가 잘 생성됐는 지 확인
```
kubectl get pods # 파드(Pod) 조회
```
### Pod로 생성시 주의사항
- 주의) YAML 문법상 들여쓰기 할 때, 띄어쓰기를 활용해야한다.
- spec.containers.ports.containerPort : 명시적으로 나타내기 위한 문서화용
- 파드(Pod) 내부의 네트워크를 컨테이너가 공유해서 같이 사용한다.
- 파드(Pod)의 네트워크는 로컬 컴퓨터의 네트워크와는 독립적으로 분리
- 접근 방법
	1. 파드(Pod) 내부로 들어가서 접근하기
		```yaml
		# kubectl exec -it [파드명] -- bash
		# 도커에서 컨테이너로 접속하는 명령어(docker exec -it [컨테이너 ID] bash)와 비슷
		$ kubectl exec -it nginx-pod -- bash # nginx-pod 내부 환경으로 접속
		
		# ---Pod 내부---
		$ curl localhost:80 # Nginx로 요청보내기
		```
	2. 파드(Pod)의 내부 네트워크를 외부에서도 접속할 수 있도록 포트 포워딩(= 포트 연결시키기) 활용하기
		```yaml
		# kubectl port-forward pod/[파드명] [로컬에서의 포트]/[파드에서의 포트]
		$ sudo kubectl port-forward pod/nginx-pod 80:80
		```

### 파드 삭제하기
```yaml
# kubectl delete pod [파드명] 
$ kubectl delete pod nginx-pod # nginx-pod라는 파드 삭제 
$ kubectl get pods # 파드가 잘 삭제됐는 지 확인
```

### 파드 에러 메시지 확인
```yaml
# kubectl describe pods [파드명]
$ kubectl describe pods nginx-pod # nginx-pod 파드의 세부 정보 조회
```

### 파드의 로그 확인
```shell
# kubectl logs [파드명]
$ kubectl logs nginx-pod # 파드 로그 확인하기
```
